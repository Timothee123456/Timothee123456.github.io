<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Definition Flashcards</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 3D Card flip animation */
        .card-container {
            position: relative;
            perspective: 1200px;
            perspective-origin: center center;
        }

        .card-flipper {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
            transform-style: preserve-3d;
            transform-origin: center center;
        }

        .card-flipped .card-flipper {
            transform: rotateY(180deg);
        }

        .card-side {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            -moz-backface-visibility: hidden;
            transform-style: preserve-3d;
        }

        .card-front {
            transform: rotateY(0deg);
            z-index: 2;
        }

        .card-back {
            transform: rotateY(180deg);
            z-index: 1;
        }

        /* Webkit optimization for mobile */
        @supports (-webkit-appearance: none) {
            .card-flipper {
                -webkit-transform-style: preserve-3d;
                -webkit-transition: -webkit-transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
            }

            .card-flipped .card-flipper {
                -webkit-transform: rotateY(180deg);
            }

            .card-side {
                -webkit-backface-visibility: hidden;
                -webkit-transform-style: preserve-3d;
            }

            .card-front {
                -webkit-transform: rotateY(0deg);
            }

            .card-back {
                -webkit-transform: rotateY(180deg);
            }
        }

        /* Mobile optimizations */
        @media (max-width: 640px) {
            .card-term {
                font-size: 2.5rem;
            }

            .card-definition {
                font-size: 1.5rem;
            }
        }

        /* Prevent text selection on tap */
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 min-h-screen">
<script>
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.classList.add('dark');
    }
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
        if (event.matches) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    });
</script>

<div class="container mx-auto px-3 py-4 max-w-2xl">
    <h1 class="text-2xl sm:text-3xl font-bold text-center mb-6 text-gray-800 dark:text-white">
        Definition Flashcards
    </h1>

    <!-- Game Screen -->
    <div id="gameScreen" class="space-y-4 sm:space-y-6">
        <!-- Progress Bar -->
        <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3">
            <div id="progressBar" class="bg-blue-500 h-3 rounded-full transition-all duration-300" style="width: 0%"></div>
        </div>

        <!-- Card Counter -->
        <div class="flex justify-between items-center">
            <div class="text-gray-600 dark:text-gray-400 text-base">
                <span id="cardCounter">1 / 20</span>
            </div>
        </div>

        <!-- Flashcard -->
        <div class="px-2">
            <div id="flashcard" class="card-container w-full h-72 sm:h-80 cursor-pointer no-select">
                <div class="card-flipper">
                    <!-- Front of card (Term) -->
                    <div class="card-front card-side bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 flex flex-col items-center justify-center p-4 sm:p-8">
                        <div id="term" class="card-term text-3xl sm:text-4xl font-bold text-gray-800 dark:text-white text-center">
                            Photosynthesis
                        </div>
                    </div>

                    <!-- Back of card (Definition) -->
                    <div class="card-back card-side bg-blue-50 dark:bg-blue-900 rounded-xl shadow-lg border border-blue-200 dark:border-blue-700 flex flex-col items-center justify-center p-4 sm:p-8">
                        <div id="definition" class="card-definition text-lg sm:text-xl font-semibold text-blue-800 dark:text-blue-200 text-center">
                            The process by which plants convert light energy into chemical energy.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-center space-x-3 px-2">
            <button id="knowItBtn" class="flex-1 max-w-40 flex items-center justify-center space-x-2 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white px-4 py-4 rounded-lg font-semibold transition-colors min-h-[56px] text-base">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span>Know it</span>
            </button>

            <button id="dontKnowBtn" class="flex-1 max-w-40 flex items-center justify-center space-x-2 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white px-4 py-4 rounded-lg font-semibold transition-colors min-h-[56px] text-base">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
                <span>Don't know</span>
            </button>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="resultsScreen" class="hidden text-center space-y-4 sm:space-y-6 px-2">
        <h2 class="text-xl sm:text-2xl font-bold text-gray-800 dark:text-white mb-4 sm:mb-6">Session Complete!</h2>

        <div class="bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 shadow-lg">
            <div class="grid grid-cols-2 gap-4 mb-4 sm:mb-6">
                <div class="text-center">
                    <div id="correctCount" class="text-2xl sm:text-3xl font-bold text-green-500">0</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">Known</div>
                </div>
                <div class="text-center">
                    <div id="incorrectCount" class="text-2xl sm:text-3xl font-bold text-red-500">0</div>
                    <div class="text-sm text-gray-600 dark:text-gray-400">Unknown</div>
                </div>
            </div>

            <div class="text-center">
                <div id="accuracyPercent" class="text-3xl sm:text-4xl font-bold text-blue-500">0%</div>
                <div class="text-sm text-gray-600 dark:text-gray-400">Accuracy</div>
            </div>
        </div>

        <div class="space-y-3">
            <button id="reviewMissedBtn" class="w-full bg-orange-500 hover:bg-orange-600 active:bg-orange-700 text-white px-6 py-4 rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-h-[56px] text-base">
                Review Missed Cards
            </button>
            <button id="restartBtn" class="w-full bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white px-6 py-4 rounded-lg font-semibold transition-colors min-h-[56px] text-base">
                Start New Session
            </button>
        </div>
    </div>
</div>

<script>
    // Flashcard data
    const flashcards = [
        {
            term: "Photosynthesis",
            definition: "The process by which plants convert light energy into chemical energy."
        },
        {
            term: "Mitosis",
            definition: "A type of cell division that results in two daughter cells each having the same number and kind of chromosomes as the parent nucleus, typical of ordinary tissue growth."
        },
        {
            term: "Ecosystem",
            definition: "A biological community of interacting organisms and their physical environment."
        },
        {
            term: "Algorithm",
            definition: "A process or set of rules to be followed in calculations or other problem-solving operations, especially by a computer."
        },
        {
            term: "Quantum Mechanics",
            definition: "A fundamental theory in physics that provides a description of the physical properties of nature at the scale of atoms and subatomic particles."
        },
        {
            term: "Calculus",
            definition: "The branch of mathematics that deals with the finding and properties of derivatives and integrals of functions, by methods originally based on the summation of infinitesimal differences."
        },
        {
            term: "Epistemology",
            definition: "The theory of knowledge, especially with regard to its methods, validity, and scope, and the distinction between justified belief and opinion."
        },
        {
            term: "Paradigm",
            definition: "A typical example or pattern of something; a model."
        },
        {
            term: "Hermeneutics",
            definition: "The branch of knowledge that deals with interpretation, especially of the Bible or literary texts."
        },
        {
            term: "Semiotics",
            definition: "The study of signs and symbols and their use or interpretation."
        },
        {
            term: "Existentialism",
            definition: "A philosophical theory or approach that emphasizes the existence of the individual person as a free and responsible agent determining their own development through acts of will."
        },
        {
            term: "Post-structuralism",
            definition: "A body of ideas that emerged in the mid-20th century as a reaction to structuralism, emphasizing the instability and fluidity of meaning."
        },
        {
            term: "Deconstruction",
            definition: "A method of critical analysis of philosophical and literary texts which questions the stability of meaning and assumptions."
        },
        {
            term: "Globalization",
            definition: "The process by which businesses or other organizations develop international influence or start operating on an international scale."
        },
        {
            term: "Sustainable Development",
            definition: "Development that meets the needs of the present without compromising the ability of future generations to meet their own needs."
        },
        {
            term: "Artificial Intelligence",
            definition: "The theory and development of computer systems able to perform tasks that normally require human intelligence, such as visual perception, speech recognition, decision-making, and translation between languages."
        },
        {
            term: "Blockchain",
            definition: "A system in which a record of transactions made in bitcoin or another cryptocurrency are maintained across several computers linked in a peer-to-peer network."
        },
        {
            term: "CRISPR",
            definition: "A family of DNA sequences in bacteria and archaea that represents pieces of genetic code taken from viruses that have previously infected the cell, and are used to target and cut DNA of subsequently invading viruses."
        },
        {
            term: "Dark Matter",
            definition: "Nonluminous material that is postulated to exist in space and that could take any of several forms including weakly interacting particles ( WIMPs ) or MACHOs"
        },
        {
            term: "Exoplanet",
            definition: "A planet that orbits a star outside the solar system"
        }
    ];

    class FlashcardApp {
        constructor() {
            this.currentDeck = [];
            this.currentIndex = 0;
            this.correctAnswers = [];
            this.incorrectAnswers = [];
            this.isFlipped = false;

            this.initializeElements();
            this.setupEventListeners();
            this.startNewSession();
        }

        initializeElements() {
            this.gameScreen = document.getElementById('gameScreen');
            this.resultsScreen = document.getElementById('resultsScreen');
            this.flashcard = document.getElementById('flashcard');
            this.term = document.getElementById('term');
            this.definition = document.getElementById('definition');
            this.progressBar = document.getElementById('progressBar');
            this.cardCounter = document.getElementById('cardCounter');
            this.knowItBtn = document.getElementById('knowItBtn');
            this.dontKnowBtn = document.getElementById('dontKnowBtn');
            this.correctCount = document.getElementById('correctCount');
            this.incorrectCount = document.getElementById('incorrectCount');
            this.accuracyPercent = document.getElementById('accuracyPercent');
            this.reviewMissedBtn = document.getElementById('reviewMissedBtn');
            this.restartBtn = document.getElementById('restartBtn');
        }

        setupEventListeners() {
            this.flashcard.addEventListener('click', () => this.flipCard());
            this.knowItBtn.addEventListener('click', () => this.markAnswer(true));
            this.dontKnowBtn.addEventListener('click', () => this.markAnswer(false));
            this.reviewMissedBtn.addEventListener('click', () => this.reviewMissedCards());
            this.restartBtn.addEventListener('click', () => this.startNewSession());
        }

        shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        startNewSession() {
            this.currentDeck = this.shuffleArray(flashcards);
            this.currentIndex = 0;
            this.correctAnswers = [];
            this.incorrectAnswers = [];
            this.showGameScreen();
            this.displayCurrentCard();
        }

        reviewMissedCards() {
            if (this.incorrectAnswers.length === 0) return;

            this.currentDeck = this.shuffleArray(this.incorrectAnswers);
            this.currentIndex = 0;
            this.correctAnswers = [];
            this.incorrectAnswers = [];
            this.showGameScreen();
            this.displayCurrentCard();
        }

        showGameScreen() {
            this.gameScreen.classList.remove('hidden');
            this.resultsScreen.classList.add('hidden');
        }

        showResultsScreen() {
            this.gameScreen.classList.add('hidden');
            this.resultsScreen.classList.remove('hidden');
            this.displayResults();
        }

        displayCurrentCard() {
            if (this.currentIndex >= this.currentDeck.length) {
                this.showResultsScreen();
                return;
            }

            const card = this.currentDeck[this.currentIndex];
            this.term.textContent = card.term;
            this.definition.textContent = card.definition;

            this.updateProgress();
            this.resetCard();
        }

        updateProgress() {
            const progress = (this.currentIndex / this.currentDeck.length) * 100;
            this.progressBar.style.width = `${progress}%`;
            this.cardCounter.textContent = `${this.currentIndex + 1} / ${this.currentDeck.length}`;
        }

        flipCard() {
            this.isFlipped = !this.isFlipped;
            this.flashcard.classList.toggle('card-flipped');
        }

        resetCard() {
            this.isFlipped = false;
            this.flashcard.classList.remove('card-flipped');
        }

        markAnswer(correct) {
            const currentCard = this.currentDeck[this.currentIndex];

            if (correct) {
                this.correctAnswers.push(currentCard);
            } else {
                this.incorrectAnswers.push(currentCard);
            }

            this.currentIndex++;
            this.displayCurrentCard();
        }

        displayResults() {
            const total = this.correctAnswers.length + this.incorrectAnswers.length;
            const accuracy = total > 0 ? Math.round((this.correctAnswers.length / total) * 100) : 0;

            this.correctCount.textContent = this.correctAnswers.length;
            this.incorrectCount.textContent = this.incorrectAnswers.length;
            this.accuracyPercent.textContent = `${accuracy}%`;

            // Enable/disable review button based on missed cards
            this.reviewMissedBtn.disabled = this.incorrectAnswers.length === 0;
        }
    }

    // Initialize the app
    new FlashcardApp();
</script>
</body>
</html>
